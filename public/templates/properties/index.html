<div class="row page-header">


<nav class="navbar" role="navigation">

  <div class="container-fluid">

    <div class="navbar-header">

      <!-- Brand and toggle get grouped for better mobile display -->
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <!-- <a href="#/" class='navbar-brand'>{{ organization.name }}</a> -->
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <div class='navbar-left'>

      </div>

      <div class='navbar-right'>

        <form class="navbar-form" role="search">
          <div class="form-group">
            <label class="checkbox-inline">
              <input type="checkbox" ng-model='search.featured'> Featured
            </label>
            <button class='btn btn-default' ng-show='search.text.length' ng-click='clearSearch()'>X</button>
            <input type="text" class="form-control" placeholder="Search" ng-model='search.text'>
          </div>
        </form>
      </div>

    </div>
  </div><!-- /.container-fluid -->
</nav>


  <div class='col-sm-6'>
    <h1>{{ header }}</h1>
  </div>

  <div class='col-sm-6'>
    <p class='text-muted property-count'>Showing {{ filteredProperties.length || 0 }} of {{ properties.length || 0 }} properties.</p>
  </div>
</div>

<div class='row display-icons'>
  <div class='col-sm-12'>
    <p class='pull-right'>
      <button type="button" class="btn btn-default" ng-click='setPropertyLayout("row")' ng-class='{selected: !grid}'>
        <span class="glyphicon glyphicon-align-justify"></span>
      </button>
      <button type="button" class="btn btn-default" ng-click='setPropertyLayout("grid")' ng-class='{selected: grid}'>
        <span class="glyphicon glyphicon-th-large"></span>
      </button>      
    </p>
  </div>
</div>

<div class='row'>
  <div ng-if='properties' ng-hide='emptySet' ng-repeat='property in filteredProperties = ( properties | filter:search.text | featured:search.featured )'>

    <div class="col-sm-{{ grid ? 6 : 12 }}">

      <div class="panel panel-default">
        <div class="panel-body">


            <div class="col-sm-6">
              <img ng-src="{{ property.streetview_url }}" class='property-image img-thumbnail'>
            </div>

            <div class="col-sm-6">

              <h1><a href='#/{{ organization.id }}/properties/{{ property.fid }}'>{{ property.address }}<a/></h1>
              <h3>{{ property.city }}, {{ property.state }} {{ property.zip }}</h3>
              
              <div ng-hide='grid'>
                
              <h4>Property Tags</h4>
              <div class='property-tags'>
                <span ng-repeat='tag in property.tags' class='property-tags'><span class="label label-warning">{{ tag }}</span></span>
              </div>

              <div class='property-inquiry'>
                <button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#propertyInquiryModal">
                  Ask About This Property
                </button>
              </div>

              </div>
            </div>

        </div> <!-- panel-body -->
      </div> <!-- panel -->

    </div> <!-- col-sm-12 -->





    <h4 ng-hide='filteredProperties.length'>No properties match those search criteria.</h4>

  </div>
</div> <!-- row -->


<div ng-hide='emptySet || properties'>
  <p><img src="/img/loader.gif"> Loading available properties.</p>
</div>

<div ng-show='emptySet'>
  <p>Looks like there are no properties here. Sorry.</p>
  <p>If you are the admin of this organization try signing in and changing your settings.</p>
</div>


<div ng-include="'/templates/properties/inquiry_modal.html'"></div>
